<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/chat-frontend/INTEGRATION.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/chat-frontend/INTEGRATION.md" />
              <option name="updatedContent" value="# Integração Frontend com Auth Service&#10;&#10;## Configuração&#10;&#10;### 1. Instalar dependências&#10;```bash&#10;pnpm install&#10;```&#10;&#10;### 2. Configurar variáveis de ambiente&#10;Copie o arquivo `.env.example` para `.env`:&#10;```bash&#10;cp .env.example .env&#10;```&#10;&#10;O arquivo `.env` deve conter:&#10;```env&#10;VITE_AUTH_SERVICE_URL=http://localhost:8081&#10;```&#10;&#10;## Estrutura da Integração&#10;&#10;### API Client (`src/lib/api.ts`)&#10;Cliente HTTP usando Axios para comunicação com o backend Spring Boot:&#10;- **Base URL**: Configurável via variável de ambiente `VITE_AUTH_SERVICE_URL`&#10;- **Endpoints disponíveis**:&#10;  - `POST /auth/register` - Cadastro de novo usuário&#10;  - `POST /auth/login` - Login de usuário&#10;&#10;### Tipos TypeScript&#10;```typescript&#10;interface RegisterRequest {&#10;  username: string;    // Email do usuário&#10;  password: string;    // Senha (mínimo 6 caracteres)&#10;  fullName: string;    // Nome completo&#10;}&#10;&#10;interface AuthResponse {&#10;  token: string;       // JWT token&#10;  userId: string;      // UUID do usuário&#10;  username: string;    // Email do usuário&#10;}&#10;```&#10;&#10;### Rota de Cadastro (`src/routes/signup.tsx`)&#10;- **Server Function**: `signupFn` - Processa o cadastro no lado do servidor&#10;- **Validação**: Usando Zod para validar dados do formulário&#10;- **Tratamento de erros**: Captura e retorna mensagens de erro da API&#10;&#10;### Componente de Formulário (`src/components/SignupForm.tsx`)&#10;- **Estado**: Gerencia loading e mensagens de erro&#10;- **Validação**: Verifica se as senhas coincidem&#10;- **Navegação**: Redireciona para home após cadastro bem-sucedido&#10;- **Token**: Armazena o JWT no localStorage após cadastro&#10;&#10;## Fluxo de Cadastro&#10;&#10;1. Usuário preenche o formulário (nome, email, senha, confirmação de senha)&#10;2. Frontend valida se as senhas coincidem&#10;3. Dados são enviados para o server function `signupFn`&#10;4. Server function valida os dados com Zod&#10;5. Requisição HTTP é feita para o backend Spring Boot&#10;6. Backend retorna token JWT e dados do usuário&#10;7. Token é armazenado no localStorage&#10;8. Usuário é redirecionado para a home&#10;&#10;## Executar o Projeto&#10;&#10;### Iniciar o backend (Spring Boot)&#10;```bash&#10;cd auth-service&#10;./mvnw spring-boot:run&#10;```&#10;&#10;### Iniciar o frontend (React + Vite)&#10;```bash&#10;cd chat-frontend&#10;pnpm dev&#10;```&#10;&#10;O frontend estará disponível em: `http://localhost:3000`&#10;O backend estará disponível em: `http://localhost:8081`&#10;&#10;## CORS Configuration&#10;&#10;Certifique-se de que o backend Spring Boot está configurado para aceitar requisições do frontend. Adicione a configuração CORS no Spring Boot se necessário:&#10;&#10;```java&#10;@Configuration&#10;public class WebConfig implements WebMvcConfigurer {&#10;    @Override&#10;    public void addCorsMappings(CorsRegistry registry) {&#10;        registry.addMapping(&quot;/**&quot;)&#10;                .allowedOrigins(&quot;http://localhost:3000&quot;)&#10;                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)&#10;                .allowedHeaders(&quot;*&quot;)&#10;                .allowCredentials(true);&#10;    }&#10;}&#10;```&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>